geom_smooth(method=lm)
d<-lm(lifeExp ~ year*continent,data = gapminder)
broom::tidy(d)
knitr::opts_chunk$set(echo = TRUE)
library(gapminder)
data(gapminder)
gapminder
library(tidyr)
library(ggplot2)
gapminder %>%
ggplot(aes(x=factor(year),y=lifeExp))+ geom_point()
big_gapminder <- merge(gapminder,augmented_gapminder, by=c("lifeExp","year"))
big_gapminder %>%
ggplot(aes(x=continent,y=.resid)) +
geom_boxplot()
gapminder %>%
ggplot(aes(x=year,y=lifeExp)) +
geom_point(aes(color=continent)) +
geom_smooth(method=lm)
d<-lm(lifeExp ~ year*continent,data = gapminder)
broom::tidy(d)
knitr::opts_chunk$set(echo = TRUE)
library(gapminder)
data(gapminder)
gapminder
library(tidyr)
library(ggplot2)
gapminder %>%
ggplot(aes(x=factor(year),y=lifeExp))+ geom_point()
big_gapminder <- merge(gapminder,augmented_gapminder, by=c("lifeExp","year"))
big_gapminder %>%
ggplot(aes(x=continent,y=.resid)) +
geom_boxplot()
gapminder %>%
ggplot(aes(x=year,y=lifeExp)) +
geom_point(aes(color=continent)) +
geom_smooth(method=lm)
d<-lm(lifeExp ~ year*continent,data = gapminder)
broom::tidy(d)
knitr::opts_chunk$set(echo = TRUE)
library(gapminder)
data(gapminder)
gapminder
library(tidyr)
library(ggplot2)
gapminder %>%
ggplot(aes(x=factor(year),y=lifeExp))+ geom_point()
big_gapminder <- merge(gapminder,augmented_gapminder, by=c("lifeExp","year"))
big_gapminder %>%
ggplot(aes(x=continent,y=.resid)) +
geom_boxplot()
gapminder %>%
ggplot(aes(x=year,y=lifeExp)) +
geom_point(aes(color=continent)) +
geom_smooth(method=lm)
d<-lm(lifeExp ~ year*continent,data = gapminder)
broom::tidy(d)
knitr::opts_chunk$set(echo = TRUE)
library(gapminder)
data(gapminder)
gapminder
library(tidyr)
library(ggplot2)
gapminder %>%
ggplot(aes(x=factor(year),y=lifeExp))+ geom_point()
knitr::opts_chunk$set(echo = TRUE)
library(gapminder)
data(gapminder)
gapminder
library(tidyr)
library(ggplot2)
gapminder %>%
ggplot(aes(x=factor(year),y=lifeExp))+ geom_point()
knitr::opts_chunk$set(echo = TRUE)
library(gapminder)
data(gapminder)
gapminder
library(tidyr)
library(ggplot2)
gapminder %>%
ggplot(aes(x=year,y=lifeExp))+ geom_point()
library(tidyr)
library(ggplot2)
d<-lm(lifeExp ~ year,data = gapminder)
broom::tidy(d)
library(ggplot2)
library(broom)
library(tidyr)
augmented_gapminder <- d %>% augment()
augmented_gapminder %>%
ggplot(aes(x=factor(year),y=.resid)) +
geom_violin()
augmented_gapminder
big_gapminder <- merge(gapminder,augmented_gapminder, by=c("lifeExp","year"))
big_gapminder %>%
ggplot(aes(x=continent,y=.resid)) +
geom_boxplot()
gapminder %>%
ggplot(aes(x=year,y=lifeExp)) +
geom_point(aes(color=continent)) +
geom_smooth(method=lm)
d<-lm(lifeExp ~ year*continent,data = gapminder)
broom::tidy(d)
gapminder %>%
ggplot(aes(x=year,y=lifeExp)) +
geom_point() +
geom_smooth(aes(color = continent),method=lm)
big_gapminder <- merge(gapminder,augmented_gapminder, by=c("lifeExp","year"))
big_gapminder %>%
ggplot(aes(x=continent,y=.resid)) +
geom_boxplot() +
xlab("Continents") +
ylab("residuals")
library(ggplot2)
library(broom)
library(tidyr)
augmented_gapminder <- d %>% augment()
augmented_gapminder %>%
ggplot(aes(x=factor(year),y=.resid)) +
geom_violin() +
xlab("Year") +
ylab("residuals")
augmented_gapminder
library(ggplot2)
library(broom)
library(tidyr)
augmented_gapminder <- d %>% augment()
augmented_gapminder %>%
ggplot(aes(x=factor(year),y=.resid)) +
geom_violin() +
xlab("Year") +
ylab("residuals")
augmented_gapminder
knitr::opts_chunk$set(echo = TRUE)
library(gapminder)
data(gapminder)
gapminder
library(tidyr)
library(ggplot2)
gapminder %>%
ggplot(aes(x=year,y=lifeExp))+ geom_point()
library(tidyr)
library(ggplot2)
d<-lm(lifeExp ~ year,data = gapminder)
broom::tidy(d)
library(ggplot2)
library(broom)
library(tidyr)
augmented_gapminder <- d %>% augment()
augmented_gapminder %>%
ggplot(aes(x=factor(year),y=.resid)) +
geom_violin() +
xlab("Year") +
ylab("residuals")
augmented_gapminder
big_gapminder <- merge(gapminder,augmented_gapminder, by=c("lifeExp","year"))
big_gapminder %>%
ggplot(aes(x=continent,y=.resid)) +
geom_boxplot() +
xlab("Continents") +
ylab("residuals")
gapminder %>%
ggplot(aes(x=year,y=lifeExp)) +
geom_point() +
geom_smooth(aes(color = continent),method=lm)
d<-lm(lifeExp ~ year*continent,data = gapminder)
broom::tidy(d)
library(ggplot2)
library(broom)
library(tidyr)
augmented_gapminder <- d %>% augment()
augmented_gapminder %>%
ggplot(aes(x=factor(year),y=.resid)) +
geom_violin() +
xlab("Year") +
ylab("residuals")
augmented_gapminder
library(ggplot2)
library(broom)
library(tidyr)
augmented_gapminder <- d %>% augment()
augmented_gapminder %>%
ggplot(aes(x=factor(year),y=.resid)) +
geom_violin() +
xlab("Year") +
ylab("residuals")
knitr::opts_chunk$set(echo = TRUE)
library(gapminder)
data(gapminder)
gapminder
library(tidyr)
library(ggplot2)
gapminder %>%
ggplot(aes(x=year,y=lifeExp))+ geom_point()
library(tidyr)
library(ggplot2)
d<-lm(lifeExp ~ year,data = gapminder)
broom::tidy(d)
library(ggplot2)
library(broom)
library(tidyr)
augmented_gapminder <- d %>% augment()
augmented_gapminder %>%
ggplot(aes(x=factor(year),y=.resid)) +
geom_violin() +
xlab("Year") +
ylab("residuals")
big_gapminder <- merge(gapminder,augmented_gapminder, by=c("lifeExp","year"))
big_gapminder %>%
ggplot(aes(x=continent,y=.resid)) +
geom_boxplot() +
xlab("Continents") +
ylab("residuals")
gapminder %>%
ggplot(aes(x=year,y=lifeExp)) +
geom_point() +
geom_smooth(aes(color = continent),method=lm)
d<-lm(lifeExp ~ year*continent,data = gapminder)
broom::tidy(d)
library(tidyr)
library(ggplot2)
d<-lm(lifeExp ~ year,data = gapminder)
broom::tidy(d)
library(ggplot2)
library(broom)
library(tidyr)
augmented_gapminder <- d %>% augment()
augmented_gapminder %>%
ggplot(aes(x=factor(year),y=.resid)) +
geom_violin() +
xlab("Year") +
ylab("residuals")
nova2 <-anova(d2)
knitr::opts_chunk$set(echo = TRUE)
library(gapminder)
data(gapminder)
gapminder
library(tidyr)
library(ggplot2)
gapminder %>%
ggplot(aes(x=year,y=lifeExp))+ geom_point()
library(tidyr)
library(ggplot2)
d2<-lm(lifeExp ~ year,data = gapminder)
broom::tidy(d2)
library(ggplot2)
library(broom)
library(tidyr)
augmented_gapminder <- d2 %>% augment()
augmented_gapminder %>%
ggplot(aes(x=factor(year),y=.resid)) +
geom_violin() +
xlab("Year") +
ylab("residuals")
big_gapminder <- merge(gapminder,augmented_gapminder, by=c("lifeExp","year"))
big_gapminder %>%
ggplot(aes(x=continent,y=.resid)) +
geom_boxplot() +
xlab("Continents") +
ylab("residuals")
gapminder %>%
ggplot(aes(x=year,y=lifeExp)) +
geom_point() +
geom_smooth(aes(color = continent),method=lm)
d6<-lm(lifeExp ~ year*continent,data = gapminder)
broom::tidy(d6)
nova2 <-anova(d2)
nova2
nova2 <-anova(d2)
nova6 <-anova(d6)
library(tidyverse)
library(lubridate)
theme_set(theme_bw())
csv_file <- "Affordability_Wide_2017Q4_Public.csv"
tidy_afford <- read_csv(csv_file) %>%
filter(Index == "Mortgage Affordability") %>%
drop_na() %>%
filter(RegionID != 0, RegionName != "United States") %>%
dplyr::select(RegionID, RegionName, matches("^[1|2]")) %>%
gather(time, affordability, matches("^[1|2]")) %>%
type_convert(col_types=cols(time=col_date(format="%Y-%m")))
library(tidyverse)
library(lubridate)
theme_set(theme_bw())
csv_file <- "Affordability_Wide_2017Q4_Public.csv"
tidy_afford <- read_csv(csv_file) %>%
filter(Index == "Mortgage Affordability") %>%
drop_na() %>%
filter(RegionID != 0, RegionName != "United States") %>%
dplyr::select(RegionID, RegionName, matches("^[1|2]")) %>%
gather(time, affordability, matches("^[1|2]")) %>%
type_convert(col_types=cols(time=col_date(format="%Y-%m")))
tidy_afford
outcome_df <- tidy_afford %>%
mutate(yq = quarter(time, with_year=TRUE)) %>%
filter(yq %in% c("2016.4", "2017.4")) %>%
select(RegionID, RegionName, yq, affordability) %>%
spread(yq, affordability) %>%
mutate(diff = `2017.4` - `2016.4`) %>%
mutate(Direction = ifelse(diff>0, "up", "down")) %>%
select(RegionID, RegionName, Direction)
outcome_df
library(tidyverse)
library(lubridate)
theme_set(theme_bw())
csv_file <- "Affordability_Wide_2017Q4_Public.csv"
tidy_afford <- read_csv(csv_file) %>%
filter(Index == "Mortgage Affordability") %>%
drop_na() %>%
filter(RegionID != 0, RegionName != "United States") %>%
dplyr::select(RegionID, RegionName, matches("^[1|2]")) %>%
gather(time, affordability, matches("^[1|2]")) %>%
type_convert(col_types=cols(time=col_date(format="%Y-%m")))
tidy_afford
outcome_df <- tidy_afford %>%
mutate(yq = quarter(time, with_year=TRUE)) %>%
filter(yq %in% c("2016.4", "2017.4")) %>%
select(RegionID, RegionName, yq, affordability) %>%
spread(yq, affordability) %>%
mutate(diff = `2017.4` - `2016.4`) %>%
mutate(Direction = ifelse(diff>0, "up", "down")) %>%
select(RegionID, RegionName, Direction)
outcome_df
predictor_df <- tidy_afford %>%
filter(year(time) <= 2016)
nova2 <-anova(d2)
nova6 <-anova(d6)
nova2 <-anova(d2)
nova6 <-anova(d6)
nova2
nova6
View(nova2)
View(nova2)
View(nova6)
View(nova6)
d6 %>%
ggplot(x=factor(year),y=.resid) +
geom_violin() +
xlab("years") +
ylab("residuals")
d6 %>%
ggplot(aes(x=factor(year),y=.resid)) +
geom_violin() +
xlab("years") +
ylab("residuals")
View(d2)
View(d2)
View(d2)
View(d2)
View(d2)
d2 %>%ggplot(aes(x=factor(year),y=.resid)) +
geom_violin()+
ggtitle("Plot of fitted Values") +
xlab("year") +
ylab("residuals")
d2 %>% ggplot(aes(x=.fitted.values,y=.resid)) +
geom_point() +
ggtitle("Plot of fitted Values") +
xlab("fitted values") +
ylab("residuals")
d2 %>%ggplot(aes(x=factor(year),y=.resid)) +
geom_violin()+
ggtitle("Plot of fitted Values") +
xlab("year") +
ylab("residuals")
d2 %>% ggplot(aes(x=fitted.values,y=.resid)) +
geom_point() +
ggtitle("Plot of fitted Values") +
xlab("fitted values") +
ylab("residuals")
d2 %>%ggplot(aes(x=factor(year),y=.resid)) +
geom_violin()+
ggtitle("Plot of fitted Values") +
xlab("year") +
ylab("residuals")
d2 %>% ggplot(aes(x=fitted.values,y=residuals())) +
geom_point() +
ggtitle("Plot of fitted Values") +
xlab("fitted values") +
ylab("residuals")
d2 %>%ggplot(aes(x=factor(year),y=.resid)) +
geom_violin()+
ggtitle("Plot of fitted Values") +
xlab("year") +
ylab("residuals")
d2 %>% ggplot(aes(x=fitted.values,y=residuals) +
geom_point() +
ggtitle("Plot of fitted Values") +
xlab("fitted values") +
ylab("residuals")
d2 %>%ggplot(aes(x=factor(year),y=.resid)) +
geom_violin()+
ggtitle("Plot of fitted Values") +
xlab("year") +
ylab("residuals")
d2 %>% ggplot(aes(x=fitted.values,y=residuals)) +
geom_point() +
ggtitle("Plot of fitted Values") +
xlab("fitted values") +
ylab("residuals")
View(d6)
View(d6)
knitr::opts_chunk$set(echo = TRUE)
library(gapminder)
data(gapminder)
gapminder
library(tidyr)
library(ggplot2)
gapminder %>%
ggplot(aes(x=year,y=lifeExp))+ geom_point()
library(tidyr)
library(ggplot2)
d2<-lm(lifeExp ~ year,data = gapminder)
broom::tidy(d2)
library(ggplot2)
library(broom)
library(tidyr)
augmented_gapminder <- d2 %>% augment()
augmented_gapminder %>%
ggplot(aes(x=factor(year),y=.resid)) +
geom_violin() +
xlab("Year") +
ylab("residuals")
big_gapminder <- merge(gapminder,augmented_gapminder, by=c("lifeExp","year"))
big_gapminder %>%
ggplot(aes(x=continent,y=.resid)) +
geom_boxplot() +
xlab("Continents") +
ylab("residuals")
gapminder %>%
ggplot(aes(x=year,y=lifeExp)) +
geom_point() +
geom_smooth(aes(color = continent),method=lm)
d6<-lm(lifeExp ~ year*continent,data = gapminder)
broom::tidy(d6)
nova2 <-anova(d2)
nova6 <-anova(d6)
nova2
nova6
d6 %>%
ggplot(aes(x=factor(year),y=.resid)) +
geom_violin() +
ggtitle("Plot Of Interaction Model ") +
xlab("years") +
ylab("residuals")
d2 %>%ggplot(aes(x=factor(year),y=.resid)) +
geom_violin()+
ggtitle("Plot of fitted Values") +
xlab("year") +
ylab("residuals")
d2 %>% ggplot(aes(x=fitted.values,y=residuals)) +
geom_point() +
ggtitle("Plot of fitted Values") +
xlab("fitted values") +
ylab("residuals")
View(d6)
View(d6)
d2 %>%ggplot(aes(x=factor(year),y=.resid)) +
geom_violin()+
ggtitle("Plot of fitted Values") +
xlab("year") +
ylab("residuals")
d2 %>% ggplot(aes(x=fitted.values,y=d2$residuals)) +
geom_point() +
ggtitle("Plot of fitted Values") +
xlab("fitted values") +
ylab("residuals")
d2 %>%ggplot(aes(x=factor(year),y=.resid)) +
geom_violin()+
ggtitle("Plot of fitted Values") +
xlab("year") +
ylab("residuals")
d2 %>% ggplot(aes(x=d2$fitted.values,y=d2$residuals)) +
geom_point() +
ggtitle("Plot of fitted Values") +
xlab("fitted values") +
ylab("residuals")
d2 %>%ggplot(aes(x=factor(year),y=.resid)) +
geom_violin()+
ggtitle("year vs residuals") +
xlab("year") +
ylab("residuals")
ggplot(aes(x=d2$fitted.values,y=d2$residuals)) +
geom_point() +
ggtitle("Plot of fitted Values") +
xlab("fitted values") +
ylab("residuals")
d2%>%
ggplot(aes(x=d2$fitted.values,y=d2$residuals)) +
geom_point() +
ggtitle("Plot of fitted Values") +
xlab("fitted values") +
ylab("residuals")
aug_d6 <-d6 %>% augment()
aug_d6 %>%
ggplot(aes(x=factor(year),y=.resid)) +
geom_violin() +
ggtitle("Plot Of Interaction Model ") +
xlab("years") +
ylab("residuals")
aug_d2 <- d2%>% augment()
aug_d2 %>%
ggplot(aes(x=.fitted,y=.resid)) +
geom_point() +
ggtitle("Plot of fitted Values") +
xlab("fitted values") +
ylab("residuals")
d2%>%ggplot(aes(x=factor(year),y=.resid)) +
geom_violin()+
ggtitle("year vs residuals") +
xlab("year") +
ylab("residuals")
